# 침입받는 웹 사이트는 어떤 상황인가

## 웹사이트 침입경로

1. 관리용 툴 인증을 뚫고 돌파

* telnet, FTP, SSH등 패스워드를 추측
* FTP등 패스워드가 malware를 경유해 누출

2. 소프트웨어 취약성을 악용

* 기반 소프트웨어 취약성이 악용됨
    * Apache, PHP, JRE(Java), Tomcat, ...
    * 취약성은 전세계적으로 매일 조사되고, 갱신되고, 보고되고 있음
* 애플리케이션의 취약성이 악용됨
    * 개별 애플리케이션의 취약성
    * SQL Injection등

## 취약성이란?

* 악용가능한 버그, 설정 불만족 등
* 악용 가능한 버그 예 (취약성에 있어서 자주 아래와 같은 안티패턴들이 일반적이다.)
    * buffer overflow
    * SQL인젝션
    * Cross-Site-Scripting(XSS)
* 악용가능한 설정불만족 예
    * 디폴트 패스워드를 그대로 방치
    * 패스워드로 'password'사용
    * 임의 메일을 중단하는 설정(오픈릴레이)
    * 인터넷 경유로 누구라도 사용할 수 있는 Proxy

## 공격당하면 어떻게 되는가

* 정보누설
    * 서버내 중요정보, 개인정보등이 외부로 누설됨
    * A의 정보를 B가 보게 되는 사고(개인 문제)도 누설에 분류됨
* 데이터 조작
    * DB, 파일 덮어쓰기
    * 화면 개변
    * Script나 iframe을 심어넣어서, 관람자가 malware에 감염
* DoS공격
    * 서비스 정지가 되버림
* 위장
    * 타인으로 위장해 조작 가능

## 공격 경로

* 웹사이트 조작 - firewall이 보급되지 않은 때
* SQL Injection - 2008~2010 무차별 공격
* Gumblar - PC에 바이러스가 감염돼, 비밀번호를 훔침
* password 리스트 공격

## Security는 진전이 없다지만

* 2000년대 침입사건은 꽤 많을 것으로 추측
    * local 네트워크용 포트(RPC등)에 대한 공격
    * 관리용 telnet/ftp/ssh에 대해 사전공격
    * Apache나 sendmail의 취약성 악용
* 상기가 대책된 후에, SQL injection 전성기 (2005~2010)
* SQL injection 대책이 마련되면서 아래와 같은 것들이 대두됨
    * 프레임워크(Struts2, Ruby on Rails등) 취약성을 노린 공격
    * 저명한 어플리케이션(wordpress등)의 취약성을 노린 공격
    * 관리단말의 malware감염(단말취약성이나 관리자의 부주의, 이른바 gumblar)
    * 유저 패스워드에 대한 공격 (피싱, 패스워드 리스트 공격)

# 취약성의 책임은 누구에게 있는가?

## 책임과 계약에 대해서
* 웹 어플리케이션 취약성의 책임은 발주자인가 개발자인가
    * 발주자의 책임이라는 게 주류
    * 가구인테리어 EC사이트 침입사건
        * 가구인테리어 EC사이트를 운영하는 X사가 Y사에 EC사이트 어플리케이션 발주
        * X사가 운영하는 EC사이트에 대해, 외부로부터 불순한 엑세스로 인해, 최대 316건의 신용카드정보가 누설됨
        * X사는 사죄, 대응, 조사등의 비용, 매출감소에 따른 손해등에 대해 Y사에 손해배상 청구
        * X사(원고)는 보안대책에 대한 특별한 지시를 받지 않았음
        * 손해배상에 대해서 개별 계약에 지정된 계약금액의 범위로 하는 손해배상책임제한이 있었다
        * 당초 시스템의 카드결제를 외부위탁했고, 직접 카드정보를 서버에 가지고 있지 않았다.
        * X사가 카드회사별로 결제금액을 알고싶다고 Y사에 의뢰하여, 그 결과 카드정보를 우선 DB에 저장
        * X사의 문의에 대해 Y사는 카드정보를 저장하지 않는 방식으로 변경하는 것이 가능하여, 그편이 안전하여, 그 비용을 전달했다만, 그후 X사는 개선 지시를 하지 않았다.
        * 사건 발생
            * SQL injection
            * XSS
            * 개이정보를 포함한 로그파일이 외부에서 열람가능
            * 시스템 관리기능의 ID/PW가 admin/password
            * DB에는 카드의 보안코드도 저장하고 있었음






